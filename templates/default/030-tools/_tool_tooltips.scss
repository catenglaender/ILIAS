@use "../../../010-settings/" as *;
@use "../../../050-layout/basics/" as *;

$t-tooltip-max-width: 50vw;
$t-tooltip-max-height: 40vh;
$t-tooltip-background-color: $il-main-dark-bg;
$t-tooltip-text-color: $il-text-color;
$t-tooltip-border-color: $il-main-border-dark-color;
$t-tooltip-arrow-height: .5em;
$t-tooltip-arrow-background-color: $t-tooltip-border-color;
$t-tooltip-z-index: 9999;

.t-tooltip__container {
	position: relative;
	display: inline-block;
}

// Arrow
// attached to the bottom
.t-tooltip__container::before {
	position: absolute;
	top: 100%;
	left: 50%;
	transform: translateX(-50%);
	border: $t-tooltip-arrow-height solid transparent;
	border-bottom-color: $t-tooltip-arrow-background-color;
}

// Invisible bridge so users can move cursor from button to tooltip
.t-tooltip__container::after {
	position: absolute;
	right: -20%;
	top: 100%;
	left: -20%;
	display: block;
	height: calc($t-tooltip-arrow-height * 2);
}

// making bridge amd arrow visible
.t-tooltip__container.t-tooltip--visible::before,
.t-tooltip__container.t-tooltip--visible::after {
	content: '';
}

// switching bridge and arrow position when dropdown switched to top
.t-tooltip__container.t-tooltip--top::before,
.t-tooltip__container.t-tooltip--top::after,
.t-tooltip__container.t-tooltip--top [role="tooltip"] {
	top: unset;
	bottom: 100%;
}

// when arrow is attached to the top
.t-tooltip__container.t-tooltip--top::before {
	border-top-color: $t-tooltip-arrow-background-color;
	border-bottom-color: transparent;
}

// Styling Tooltip
.t-tooltip__container [role="tooltip"] {
	position: absolute;
	top: calc(100% + calc($t-tooltip-arrow-height * 2));
	left: 50%;
	transform: translateX(-50%);
	margin: 0;
	padding: $il-padding-xlarge-vertical $il-padding-xlarge-horizontal;
	border: 2px solid $t-tooltip-border-color;
	border-radius: .25em;
	color: $t-tooltip-text-color;
	background: $t-tooltip-background-color;
	width: max-content;
	max-width: $t-tooltip-max-width;
	max-height: $t-tooltip-max-height;
	overflow: auto;
	z-index: $t-tooltip-z-index;
}

.t-tooltip__container.t-tooltip--top [role="tooltip"] {
	bottom: calc(100% + calc($t-tooltip-arrow-height * 2));
}

/* Hides the tooltip */
.t-tooltip--hidden {
	display: none;
}
